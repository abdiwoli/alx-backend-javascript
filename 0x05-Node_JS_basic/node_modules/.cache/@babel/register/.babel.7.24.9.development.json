{"{\"assumptions\":{},\"sourceRoot\":\"/home/abdiwoli/projects/alx-backend-javascript/0x05-Node_JS_basic/test/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abdiwoli/projects/alx-backend-javascript/0x05-Node_JS_basic\",\"filename\":\"/home/abdiwoli/projects/alx-backend-javascript/0x05-Node_JS_basic/test/test.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/abdiwoli/projects/alx-backend-javascript/0x05-Node_JS_basic\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.9:development":{"value":{"code":"\"use strict\";\n\nconst chai = require('chai');\nconst chaiHttp = require('chai-http');\nconst app = require('./6-http_express');\nchai.use(chaiHttp);\nchai.should();\ndescribe('Small HTTP server using Express', () => {\n  it('Returns the right status', done => {\n    chai.request(app).get('/nope').end((error, response) => {\n      chai.expect(response.statusCode).to.equal(404);\n      done();\n    });\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjaGFpIiwicmVxdWlyZSIsImNoYWlIdHRwIiwiYXBwIiwidXNlIiwic2hvdWxkIiwiZGVzY3JpYmUiLCJpdCIsImRvbmUiLCJyZXF1ZXN0IiwiZ2V0IiwiZW5kIiwiZXJyb3IiLCJyZXNwb25zZSIsImV4cGVjdCIsInN0YXR1c0NvZGUiLCJ0byIsImVxdWFsIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9hYmRpd29saS9wcm9qZWN0cy9hbHgtYmFja2VuZC1qYXZhc2NyaXB0LzB4MDUtTm9kZV9KU19iYXNpYy90ZXN0LyIsInNvdXJjZXMiOlsidGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBjaGFpID0gcmVxdWlyZSgnY2hhaScpO1xuY29uc3QgY2hhaUh0dHAgPSByZXF1aXJlKCdjaGFpLWh0dHAnKTtcblxuY29uc3QgYXBwID0gcmVxdWlyZSgnLi82LWh0dHBfZXhwcmVzcycpO1xuXG5jaGFpLnVzZShjaGFpSHR0cCk7XG5jaGFpLnNob3VsZCgpO1xuXG5kZXNjcmliZSgnU21hbGwgSFRUUCBzZXJ2ZXIgdXNpbmcgRXhwcmVzcycsICgpID0+IHtcbiAgaXQoJ1JldHVybnMgdGhlIHJpZ2h0IHN0YXR1cycsIChkb25lKSA9PiB7XG4gICAgY2hhaS5yZXF1ZXN0KGFwcClcbiAgICAgIC5nZXQoJy9ub3BlJylcbiAgICAgIC5lbmQoKGVycm9yLCByZXNwb25zZSkgPT4ge1xuICAgICAgICBjaGFpLmV4cGVjdChyZXNwb25zZS5zdGF0dXNDb2RlKS50by5lcXVhbCg0MDQpO1xuICAgICAgICBkb25lKCk7XG4gICAgICB9KTtcbiAgfSk7XG59KTtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxJQUFJLEdBQUdDLE9BQU8sQ0FBQyxNQUFNLENBQUM7QUFDNUIsTUFBTUMsUUFBUSxHQUFHRCxPQUFPLENBQUMsV0FBVyxDQUFDO0FBRXJDLE1BQU1FLEdBQUcsR0FBR0YsT0FBTyxDQUFDLGtCQUFrQixDQUFDO0FBRXZDRCxJQUFJLENBQUNJLEdBQUcsQ0FBQ0YsUUFBUSxDQUFDO0FBQ2xCRixJQUFJLENBQUNLLE1BQU0sQ0FBQyxDQUFDO0FBRWJDLFFBQVEsQ0FBQyxpQ0FBaUMsRUFBRSxNQUFNO0VBQ2hEQyxFQUFFLENBQUMsMEJBQTBCLEVBQUdDLElBQUksSUFBSztJQUN2Q1IsSUFBSSxDQUFDUyxPQUFPLENBQUNOLEdBQUcsQ0FBQyxDQUNkTyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQ1pDLEdBQUcsQ0FBQyxDQUFDQyxLQUFLLEVBQUVDLFFBQVEsS0FBSztNQUN4QmIsSUFBSSxDQUFDYyxNQUFNLENBQUNELFFBQVEsQ0FBQ0UsVUFBVSxDQUFDLENBQUNDLEVBQUUsQ0FBQ0MsS0FBSyxDQUFDLEdBQUcsQ0FBQztNQUM5Q1QsSUFBSSxDQUFDLENBQUM7SUFDUixDQUFDLENBQUM7RUFDTixDQUFDLENBQUM7QUFDSixDQUFDLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["chai","require","chaiHttp","app","use","should","describe","it","done","request","get","end","error","response","expect","statusCode","to","equal"],"sourceRoot":"/home/abdiwoli/projects/alx-backend-javascript/0x05-Node_JS_basic/test/","sources":["test.js"],"sourcesContent":["const chai = require('chai');\nconst chaiHttp = require('chai-http');\n\nconst app = require('./6-http_express');\n\nchai.use(chaiHttp);\nchai.should();\n\ndescribe('Small HTTP server using Express', () => {\n  it('Returns the right status', (done) => {\n    chai.request(app)\n      .get('/nope')\n      .end((error, response) => {\n        chai.expect(response.statusCode).to.equal(404);\n        done();\n      });\n  });\n});\n"],"mappings":";;AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,MAAM,CAAC;AAC5B,MAAMC,QAAQ,GAAGD,OAAO,CAAC,WAAW,CAAC;AAErC,MAAME,GAAG,GAAGF,OAAO,CAAC,kBAAkB,CAAC;AAEvCD,IAAI,CAACI,GAAG,CAACF,QAAQ,CAAC;AAClBF,IAAI,CAACK,MAAM,CAAC,CAAC;AAEbC,QAAQ,CAAC,iCAAiC,EAAE,MAAM;EAChDC,EAAE,CAAC,0BAA0B,EAAGC,IAAI,IAAK;IACvCR,IAAI,CAACS,OAAO,CAACN,GAAG,CAAC,CACdO,GAAG,CAAC,OAAO,CAAC,CACZC,GAAG,CAAC,CAACC,KAAK,EAAEC,QAAQ,KAAK;MACxBb,IAAI,CAACc,MAAM,CAACD,QAAQ,CAACE,UAAU,CAAC,CAACC,EAAE,CAACC,KAAK,CAAC,GAAG,CAAC;MAC9CT,IAAI,CAAC,CAAC;IACR,CAAC,CAAC;EACN,CAAC,CAAC;AACJ,CAAC,CAAC","ignoreList":[]}},"mtime":1721808178885},"{\"assumptions\":{},\"sourceRoot\":\"/home/abdiwoli/projects/alx-backend-javascript/0x05-Node_JS_basic/full_server/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abdiwoli/projects/alx-backend-javascript/0x05-Node_JS_basic\",\"filename\":\"/home/abdiwoli/projects/alx-backend-javascript/0x05-Node_JS_basic/full_server/server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/abdiwoli/projects/alx-backend-javascript/0x05-Node_JS_basic\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _index = _interopRequireDefault(require(\"./routes/index\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst app = (0, _express.default)();\napp.use(_index.default);\napp.listen(1245, () => {\n  console.log('Server is running on http://localhost:1245');\n});\nvar _default = exports.default = app;\nmodule.exports = app;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2luZGV4IiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiYXBwIiwiZXhwcmVzcyIsInVzZSIsInJvdXRlIiwibGlzdGVuIiwiY29uc29sZSIsImxvZyIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsIm1vZHVsZSJdLCJzb3VyY2VSb290IjoiL2hvbWUvYWJkaXdvbGkvcHJvamVjdHMvYWx4LWJhY2tlbmQtamF2YXNjcmlwdC8weDA1LU5vZGVfSlNfYmFzaWMvZnVsbF9zZXJ2ZXIvIiwic291cmNlcyI6WyJzZXJ2ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgcm91dGUgZnJvbSAnLi9yb3V0ZXMvaW5kZXgnO1xuXG5jb25zdCBhcHAgPSBleHByZXNzKCk7XG5cbmFwcC51c2Uocm91dGUpO1xuXG5hcHAubGlzdGVuKDEyNDUsICgpID0+IHtcbiAgY29uc29sZS5sb2coJ1NlcnZlciBpcyBydW5uaW5nIG9uIGh0dHA6Ly9sb2NhbGhvc3Q6MTI0NScpO1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IGFwcDtcbm1vZHVsZS5leHBvcnRzID0gYXBwO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxNQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFBbUMsU0FBQUQsdUJBQUFHLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFFbkMsTUFBTUcsR0FBRyxHQUFHLElBQUFDLGdCQUFPLEVBQUMsQ0FBQztBQUVyQkQsR0FBRyxDQUFDRSxHQUFHLENBQUNDLGNBQUssQ0FBQztBQUVkSCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxJQUFJLEVBQUUsTUFBTTtFQUNyQkMsT0FBTyxDQUFDQyxHQUFHLENBQUMsNENBQTRDLENBQUM7QUFDM0QsQ0FBQyxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFULE9BQUEsR0FFWUMsR0FBRztBQUNsQlMsTUFBTSxDQUFDRCxPQUFPLEdBQUdSLEdBQUciLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_express","_interopRequireDefault","require","_index","e","__esModule","default","app","express","use","route","listen","console","log","_default","exports","module"],"sourceRoot":"/home/abdiwoli/projects/alx-backend-javascript/0x05-Node_JS_basic/full_server/","sources":["server.js"],"sourcesContent":["import express from 'express';\nimport route from './routes/index';\n\nconst app = express();\n\napp.use(route);\n\napp.listen(1245, () => {\n  console.log('Server is running on http://localhost:1245');\n});\n\nexport default app;\nmodule.exports = app;\n"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,MAAA,GAAAF,sBAAA,CAAAC,OAAA;AAAmC,SAAAD,uBAAAG,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAEnC,MAAMG,GAAG,GAAG,IAAAC,gBAAO,EAAC,CAAC;AAErBD,GAAG,CAACE,GAAG,CAACC,cAAK,CAAC;AAEdH,GAAG,CAACI,MAAM,CAAC,IAAI,EAAE,MAAM;EACrBC,OAAO,CAACC,GAAG,CAAC,4CAA4C,CAAC;AAC3D,CAAC,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAT,OAAA,GAEYC,GAAG;AAClBS,MAAM,CAACD,OAAO,GAAGR,GAAG","ignoreList":[]}},"mtime":1721801941208},"{\"assumptions\":{},\"sourceRoot\":\"/home/abdiwoli/projects/alx-backend-javascript/0x05-Node_JS_basic/full_server/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abdiwoli/projects/alx-backend-javascript/0x05-Node_JS_basic\",\"filename\":\"/home/abdiwoli/projects/alx-backend-javascript/0x05-Node_JS_basic/full_server/routes/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/abdiwoli/projects/alx-backend-javascript/0x05-Node_JS_basic\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _AppController = _interopRequireDefault(require(\"../controllers/AppController\"));\nvar _StudentsController = _interopRequireDefault(require(\"../controllers/StudentsController\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst route = _express.default.Router();\nroute.get('/', _AppController.default.getHomepage);\nroute.get('/students', _StudentsController.default.getAllStudents);\nroute.get('/students/:major', _StudentsController.default.getAllStudentsByMajor);\nvar _default = exports.default = route;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX0FwcENvbnRyb2xsZXIiLCJfU3R1ZGVudHNDb250cm9sbGVyIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwicm91dGUiLCJleHByZXNzIiwiUm91dGVyIiwiZ2V0IiwiQXBwQ29udHJvbGxlciIsImdldEhvbWVwYWdlIiwiU3R1ZGVudHNDb250cm9sbGVyIiwiZ2V0QWxsU3R1ZGVudHMiLCJnZXRBbGxTdHVkZW50c0J5TWFqb3IiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9ob21lL2FiZGl3b2xpL3Byb2plY3RzL2FseC1iYWNrZW5kLWphdmFzY3JpcHQvMHgwNS1Ob2RlX0pTX2Jhc2ljL2Z1bGxfc2VydmVyL3JvdXRlcy8iLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IEFwcENvbnRyb2xsZXIgZnJvbSAnLi4vY29udHJvbGxlcnMvQXBwQ29udHJvbGxlcic7XG5pbXBvcnQgU3R1ZGVudHNDb250cm9sbGVyIGZyb20gJy4uL2NvbnRyb2xsZXJzL1N0dWRlbnRzQ29udHJvbGxlcic7XG5cbmNvbnN0IHJvdXRlID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxucm91dGUuZ2V0KCcvJywgQXBwQ29udHJvbGxlci5nZXRIb21lcGFnZSk7XG5yb3V0ZS5nZXQoJy9zdHVkZW50cycsIFN0dWRlbnRzQ29udHJvbGxlci5nZXRBbGxTdHVkZW50cyk7XG5yb3V0ZS5nZXQoJy9zdHVkZW50cy86bWFqb3InLCBTdHVkZW50c0NvbnRyb2xsZXIuZ2V0QWxsU3R1ZGVudHNCeU1ham9yKTtcblxuZXhwb3J0IGRlZmF1bHQgcm91dGU7XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLGNBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLG1CQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFBbUUsU0FBQUQsdUJBQUFJLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFFbkUsTUFBTUcsS0FBSyxHQUFHQyxnQkFBTyxDQUFDQyxNQUFNLENBQUMsQ0FBQztBQUU5QkYsS0FBSyxDQUFDRyxHQUFHLENBQUMsR0FBRyxFQUFFQyxzQkFBYSxDQUFDQyxXQUFXLENBQUM7QUFDekNMLEtBQUssQ0FBQ0csR0FBRyxDQUFDLFdBQVcsRUFBRUcsMkJBQWtCLENBQUNDLGNBQWMsQ0FBQztBQUN6RFAsS0FBSyxDQUFDRyxHQUFHLENBQUMsa0JBQWtCLEVBQUVHLDJCQUFrQixDQUFDRSxxQkFBcUIsQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBWCxPQUFBLEdBRXpEQyxLQUFLIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_express","_interopRequireDefault","require","_AppController","_StudentsController","e","__esModule","default","route","express","Router","get","AppController","getHomepage","StudentsController","getAllStudents","getAllStudentsByMajor","_default","exports"],"sourceRoot":"/home/abdiwoli/projects/alx-backend-javascript/0x05-Node_JS_basic/full_server/routes/","sources":["index.js"],"sourcesContent":["import express from 'express';\nimport AppController from '../controllers/AppController';\nimport StudentsController from '../controllers/StudentsController';\n\nconst route = express.Router();\n\nroute.get('/', AppController.getHomepage);\nroute.get('/students', StudentsController.getAllStudents);\nroute.get('/students/:major', StudentsController.getAllStudentsByMajor);\n\nexport default route;\n"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,cAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,mBAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAmE,SAAAD,uBAAAI,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAEnE,MAAMG,KAAK,GAAGC,gBAAO,CAACC,MAAM,CAAC,CAAC;AAE9BF,KAAK,CAACG,GAAG,CAAC,GAAG,EAAEC,sBAAa,CAACC,WAAW,CAAC;AACzCL,KAAK,CAACG,GAAG,CAAC,WAAW,EAAEG,2BAAkB,CAACC,cAAc,CAAC;AACzDP,KAAK,CAACG,GAAG,CAAC,kBAAkB,EAAEG,2BAAkB,CAACE,qBAAqB,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAX,OAAA,GAEzDC,KAAK","ignoreList":[]}},"mtime":1721754259110},"{\"assumptions\":{},\"sourceRoot\":\"/home/abdiwoli/projects/alx-backend-javascript/0x05-Node_JS_basic/full_server/controllers/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abdiwoli/projects/alx-backend-javascript/0x05-Node_JS_basic\",\"filename\":\"/home/abdiwoli/projects/alx-backend-javascript/0x05-Node_JS_basic/full_server/controllers/AppController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/abdiwoli/projects/alx-backend-javascript/0x05-Node_JS_basic\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nclass AppController {\n  // eslint-disable-next-line space-before-function-paren\n  static getHomepage(req, res) {\n    res.status(200);\n    res.setHeader('Content-Type', 'text/plain');\n    res.send('Hello Holberton School!');\n  }\n}\nvar _default = exports.default = AppController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJBcHBDb250cm9sbGVyIiwiZ2V0SG9tZXBhZ2UiLCJyZXEiLCJyZXMiLCJzdGF0dXMiLCJzZXRIZWFkZXIiLCJzZW5kIiwiX2RlZmF1bHQiLCJleHBvcnRzIiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiL2hvbWUvYWJkaXdvbGkvcHJvamVjdHMvYWx4LWJhY2tlbmQtamF2YXNjcmlwdC8weDA1LU5vZGVfSlNfYmFzaWMvZnVsbF9zZXJ2ZXIvY29udHJvbGxlcnMvIiwic291cmNlcyI6WyJBcHBDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNsYXNzIEFwcENvbnRyb2xsZXIge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgc3BhY2UtYmVmb3JlLWZ1bmN0aW9uLXBhcmVuXG4gIHN0YXRpYyBnZXRIb21lcGFnZShyZXEsIHJlcykge1xuICAgICAgcmVzLnN0YXR1cygyMDApO1xuICAgICAgcmVzLnNldEhlYWRlcignQ29udGVudC1UeXBlJywgJ3RleHQvcGxhaW4nKTtcbiAgICAgIHJlcy5zZW5kKCdIZWxsbyBIb2xiZXJ0b24gU2Nob29sIScpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFwcENvbnRyb2xsZXI7XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLE1BQU1BLGFBQWEsQ0FBQztFQUNsQjtFQUNBLE9BQU9DLFdBQVdBLENBQUNDLEdBQUcsRUFBRUMsR0FBRyxFQUFFO0lBQ3pCQSxHQUFHLENBQUNDLE1BQU0sQ0FBQyxHQUFHLENBQUM7SUFDZkQsR0FBRyxDQUFDRSxTQUFTLENBQUMsY0FBYyxFQUFFLFlBQVksQ0FBQztJQUMzQ0YsR0FBRyxDQUFDRyxJQUFJLENBQUMseUJBQXlCLENBQUM7RUFDdkM7QUFDRjtBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBQyxPQUFBLEdBRWNULGFBQWEiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["AppController","getHomepage","req","res","status","setHeader","send","_default","exports","default"],"sourceRoot":"/home/abdiwoli/projects/alx-backend-javascript/0x05-Node_JS_basic/full_server/controllers/","sources":["AppController.js"],"sourcesContent":["class AppController {\n  // eslint-disable-next-line space-before-function-paren\n  static getHomepage(req, res) {\n      res.status(200);\n      res.setHeader('Content-Type', 'text/plain');\n      res.send('Hello Holberton School!');\n  }\n}\n\nexport default AppController;\n"],"mappings":";;;;;;AAAA,MAAMA,aAAa,CAAC;EAClB;EACA,OAAOC,WAAWA,CAACC,GAAG,EAAEC,GAAG,EAAE;IACzBA,GAAG,CAACC,MAAM,CAAC,GAAG,CAAC;IACfD,GAAG,CAACE,SAAS,CAAC,cAAc,EAAE,YAAY,CAAC;IAC3CF,GAAG,CAACG,IAAI,CAAC,yBAAyB,CAAC;EACvC;AACF;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAEcT,aAAa","ignoreList":[]}},"mtime":1721792514073},"{\"assumptions\":{},\"sourceRoot\":\"/home/abdiwoli/projects/alx-backend-javascript/0x05-Node_JS_basic/full_server/controllers/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abdiwoli/projects/alx-backend-javascript/0x05-Node_JS_basic\",\"filename\":\"/home/abdiwoli/projects/alx-backend-javascript/0x05-Node_JS_basic/full_server/controllers/StudentsController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/abdiwoli/projects/alx-backend-javascript/0x05-Node_JS_basic\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _utils = _interopRequireDefault(require(\"../utils\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nclass StudentsController {\n  // eslint-disable-next-line space-before-function-paren\n  static getAllStudents(req, res) {\n    (0, _utils.default)('database.csv').then(names => {\n      res.status(200);\n      res.write('This is the list of our students\\n');\n      const lines = [];\n      for (const [key, value] of Object.entries(names)) {\n        lines.push(`Number of students in ${key}: ${value.length}. List: ${value}`);\n      }\n      res.send(lines.join('\\n'));\n    }).catch(() => {\n      res.status(500);\n      res.send('Cannot load the database');\n    });\n  }\n\n  // eslint-disable-next-line space-before-function-paren\n  static getAllStudentsByMajor(req, res) {\n    // eslint-disable-next-line no-useless-escape\n    const url = new URL(req.url, `http://${req.headers.host}`);\n    // eslint-disable-next-line no-useless-escape\n    const match = url.pathname.match(/^\\/students\\/([^\\/]+)$/);\n    const major = match ? match[1] : null;\n    if (major === 'CS' || major === 'SWE') {\n      res.status(200);\n      (0, _utils.default)('database.csv').then(names => {\n        res.send(`List: ${names[major].join(', ')}`);\n      }).catch(() => {\n        res.status(500);\n        res.send('Cannot load the database');\n      });\n    } else {\n      res.status(500);\n      res.send('Major parameter must be CS or SWE');\n    }\n  }\n}\nvar _default = exports.default = StudentsController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdXRpbHMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsImUiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIlN0dWRlbnRzQ29udHJvbGxlciIsImdldEFsbFN0dWRlbnRzIiwicmVxIiwicmVzIiwicmVhZERhdGFiYXNlIiwidGhlbiIsIm5hbWVzIiwic3RhdHVzIiwid3JpdGUiLCJsaW5lcyIsImtleSIsInZhbHVlIiwiT2JqZWN0IiwiZW50cmllcyIsInB1c2giLCJsZW5ndGgiLCJzZW5kIiwiam9pbiIsImNhdGNoIiwiZ2V0QWxsU3R1ZGVudHNCeU1ham9yIiwidXJsIiwiVVJMIiwiaGVhZGVycyIsImhvc3QiLCJtYXRjaCIsInBhdGhuYW1lIiwibWFqb3IiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9ob21lL2FiZGl3b2xpL3Byb2plY3RzL2FseC1iYWNrZW5kLWphdmFzY3JpcHQvMHgwNS1Ob2RlX0pTX2Jhc2ljL2Z1bGxfc2VydmVyL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiU3R1ZGVudHNDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByZWFkRGF0YWJhc2UgZnJvbSAnLi4vdXRpbHMnO1xuXG5jbGFzcyBTdHVkZW50c0NvbnRyb2xsZXIge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgc3BhY2UtYmVmb3JlLWZ1bmN0aW9uLXBhcmVuXG4gIHN0YXRpYyBnZXRBbGxTdHVkZW50cyAocmVxLCByZXMpIHtcbiAgICByZWFkRGF0YWJhc2UoJ2RhdGFiYXNlLmNzdicpXG4gICAgICAudGhlbigobmFtZXMpID0+IHtcbiAgICAgICAgICByZXMuc3RhdHVzKDIwMCk7XG4gICAgICAgIHJlcy53cml0ZSgnVGhpcyBpcyB0aGUgbGlzdCBvZiBvdXIgc3R1ZGVudHNcXG4nKTtcbiAgICAgICAgY29uc3QgbGluZXMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMobmFtZXMpKSB7XG4gICAgICAgICAgbGluZXMucHVzaChgTnVtYmVyIG9mIHN0dWRlbnRzIGluICR7a2V5fTogJHt2YWx1ZS5sZW5ndGh9LiBMaXN0OiAke3ZhbHVlfWApO1xuICAgICAgICB9XG4gICAgICAgIHJlcy5zZW5kKGxpbmVzLmpvaW4oJ1xcbicpKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKTtcbiAgICAgICAgcmVzLnNlbmQoJ0Nhbm5vdCBsb2FkIHRoZSBkYXRhYmFzZScpO1xuICAgICAgfSk7XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgc3BhY2UtYmVmb3JlLWZ1bmN0aW9uLXBhcmVuXG4gIHN0YXRpYyBnZXRBbGxTdHVkZW50c0J5TWFqb3IgKHJlcSwgcmVzKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZWxlc3MtZXNjYXBlXG4gICAgY29uc3QgdXJsID0gbmV3IFVSTChyZXEudXJsLCBgaHR0cDovLyR7cmVxLmhlYWRlcnMuaG9zdH1gKTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlbGVzcy1lc2NhcGVcbiAgICBjb25zdCBtYXRjaCA9IHVybC5wYXRobmFtZS5tYXRjaCgvXlxcL3N0dWRlbnRzXFwvKFteXFwvXSspJC8pO1xuICAgIGNvbnN0IG1ham9yID0gbWF0Y2ggPyBtYXRjaFsxXSA6IG51bGw7XG4gICAgaWYgKChtYWpvciA9PT0gJ0NTJykgfHwgKG1ham9yID09PSAnU1dFJykpIHtcbiAgICAgIHJlcy5zdGF0dXMoMjAwKTtcbiAgICAgIHJlYWREYXRhYmFzZSgnZGF0YWJhc2UuY3N2JylcbiAgICAgICAgICAgIC50aGVuKChuYW1lcykgPT4ge1xuICAgICAgICAgIHJlcy5zZW5kKGBMaXN0OiAke25hbWVzW21ham9yXS5qb2luKCcsICcpfWApO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKTtcbiAgICAgICAgICByZXMuc2VuZCgnQ2Fubm90IGxvYWQgdGhlIGRhdGFiYXNlJyk7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCk7XG4gICAgICByZXMuc2VuZCgnTWFqb3IgcGFyYW1ldGVyIG11c3QgYmUgQ1Mgb3IgU1dFJyk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFN0dWRlbnRzQ29udHJvbGxlcjtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsTUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQW9DLFNBQUFELHVCQUFBRSxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBRXBDLE1BQU1HLGtCQUFrQixDQUFDO0VBQ3ZCO0VBQ0EsT0FBT0MsY0FBY0EsQ0FBRUMsR0FBRyxFQUFFQyxHQUFHLEVBQUU7SUFDL0IsSUFBQUMsY0FBWSxFQUFDLGNBQWMsQ0FBQyxDQUN6QkMsSUFBSSxDQUFFQyxLQUFLLElBQUs7TUFDYkgsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDO01BQ2pCSixHQUFHLENBQUNLLEtBQUssQ0FBQyxvQ0FBb0MsQ0FBQztNQUMvQyxNQUFNQyxLQUFLLEdBQUcsRUFBRTtNQUNoQixLQUFLLE1BQU0sQ0FBQ0MsR0FBRyxFQUFFQyxLQUFLLENBQUMsSUFBSUMsTUFBTSxDQUFDQyxPQUFPLENBQUNQLEtBQUssQ0FBQyxFQUFFO1FBQ2hERyxLQUFLLENBQUNLLElBQUksQ0FBQyx5QkFBeUJKLEdBQUcsS0FBS0MsS0FBSyxDQUFDSSxNQUFNLFdBQVdKLEtBQUssRUFBRSxDQUFDO01BQzdFO01BQ0FSLEdBQUcsQ0FBQ2EsSUFBSSxDQUFDUCxLQUFLLENBQUNRLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUM1QixDQUFDLENBQUMsQ0FDREMsS0FBSyxDQUFDLE1BQU07TUFDVGYsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDO01BQ2pCSixHQUFHLENBQUNhLElBQUksQ0FBQywwQkFBMEIsQ0FBQztJQUN0QyxDQUFDLENBQUM7RUFDTjs7RUFFQTtFQUNBLE9BQU9HLHFCQUFxQkEsQ0FBRWpCLEdBQUcsRUFBRUMsR0FBRyxFQUFFO0lBQ3RDO0lBQ0EsTUFBTWlCLEdBQUcsR0FBRyxJQUFJQyxHQUFHLENBQUNuQixHQUFHLENBQUNrQixHQUFHLEVBQUUsVUFBVWxCLEdBQUcsQ0FBQ29CLE9BQU8sQ0FBQ0MsSUFBSSxFQUFFLENBQUM7SUFDMUQ7SUFDQSxNQUFNQyxLQUFLLEdBQUdKLEdBQUcsQ0FBQ0ssUUFBUSxDQUFDRCxLQUFLLENBQUMsd0JBQXdCLENBQUM7SUFDMUQsTUFBTUUsS0FBSyxHQUFHRixLQUFLLEdBQUdBLEtBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJO0lBQ3JDLElBQUtFLEtBQUssS0FBSyxJQUFJLElBQU1BLEtBQUssS0FBSyxLQUFNLEVBQUU7TUFDekN2QixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUM7TUFDZixJQUFBSCxjQUFZLEVBQUMsY0FBYyxDQUFDLENBQ3JCQyxJQUFJLENBQUVDLEtBQUssSUFBSztRQUNuQkgsR0FBRyxDQUFDYSxJQUFJLENBQUMsU0FBU1YsS0FBSyxDQUFDb0IsS0FBSyxDQUFDLENBQUNULElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDO01BQzlDLENBQUMsQ0FBQyxDQUNEQyxLQUFLLENBQUMsTUFBTTtRQUNYZixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUM7UUFDZkosR0FBRyxDQUFDYSxJQUFJLENBQUMsMEJBQTBCLENBQUM7TUFDdEMsQ0FBQyxDQUFDO0lBQ04sQ0FBQyxNQUFNO01BQ0xiLEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQztNQUNmSixHQUFHLENBQUNhLElBQUksQ0FBQyxtQ0FBbUMsQ0FBQztJQUMvQztFQUNGO0FBQ0Y7QUFBQyxJQUFBVyxRQUFBLEdBQUFDLE9BQUEsQ0FBQTdCLE9BQUEsR0FFY0Msa0JBQWtCIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_utils","_interopRequireDefault","require","e","__esModule","default","StudentsController","getAllStudents","req","res","readDatabase","then","names","status","write","lines","key","value","Object","entries","push","length","send","join","catch","getAllStudentsByMajor","url","URL","headers","host","match","pathname","major","_default","exports"],"sourceRoot":"/home/abdiwoli/projects/alx-backend-javascript/0x05-Node_JS_basic/full_server/controllers/","sources":["StudentsController.js"],"sourcesContent":["import readDatabase from '../utils';\n\nclass StudentsController {\n  // eslint-disable-next-line space-before-function-paren\n  static getAllStudents (req, res) {\n    readDatabase('database.csv')\n      .then((names) => {\n          res.status(200);\n        res.write('This is the list of our students\\n');\n        const lines = [];\n        for (const [key, value] of Object.entries(names)) {\n          lines.push(`Number of students in ${key}: ${value.length}. List: ${value}`);\n        }\n        res.send(lines.join('\\n'));\n      })\n      .catch(() => {\n          res.status(500);\n        res.send('Cannot load the database');\n      });\n  }\n\n  // eslint-disable-next-line space-before-function-paren\n  static getAllStudentsByMajor (req, res) {\n    // eslint-disable-next-line no-useless-escape\n    const url = new URL(req.url, `http://${req.headers.host}`);\n    // eslint-disable-next-line no-useless-escape\n    const match = url.pathname.match(/^\\/students\\/([^\\/]+)$/);\n    const major = match ? match[1] : null;\n    if ((major === 'CS') || (major === 'SWE')) {\n      res.status(200);\n      readDatabase('database.csv')\n            .then((names) => {\n          res.send(`List: ${names[major].join(', ')}`);\n        })\n        .catch(() => {\n          res.status(500);\n          res.send('Cannot load the database');\n        });\n    } else {\n      res.status(500);\n      res.send('Major parameter must be CS or SWE');\n    }\n  }\n}\n\nexport default StudentsController;\n"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAoC,SAAAD,uBAAAE,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAEpC,MAAMG,kBAAkB,CAAC;EACvB;EACA,OAAOC,cAAcA,CAAEC,GAAG,EAAEC,GAAG,EAAE;IAC/B,IAAAC,cAAY,EAAC,cAAc,CAAC,CACzBC,IAAI,CAAEC,KAAK,IAAK;MACbH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC;MACjBJ,GAAG,CAACK,KAAK,CAAC,oCAAoC,CAAC;MAC/C,MAAMC,KAAK,GAAG,EAAE;MAChB,KAAK,MAAM,CAACC,GAAG,EAAEC,KAAK,CAAC,IAAIC,MAAM,CAACC,OAAO,CAACP,KAAK,CAAC,EAAE;QAChDG,KAAK,CAACK,IAAI,CAAC,yBAAyBJ,GAAG,KAAKC,KAAK,CAACI,MAAM,WAAWJ,KAAK,EAAE,CAAC;MAC7E;MACAR,GAAG,CAACa,IAAI,CAACP,KAAK,CAACQ,IAAI,CAAC,IAAI,CAAC,CAAC;IAC5B,CAAC,CAAC,CACDC,KAAK,CAAC,MAAM;MACTf,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC;MACjBJ,GAAG,CAACa,IAAI,CAAC,0BAA0B,CAAC;IACtC,CAAC,CAAC;EACN;;EAEA;EACA,OAAOG,qBAAqBA,CAAEjB,GAAG,EAAEC,GAAG,EAAE;IACtC;IACA,MAAMiB,GAAG,GAAG,IAAIC,GAAG,CAACnB,GAAG,CAACkB,GAAG,EAAE,UAAUlB,GAAG,CAACoB,OAAO,CAACC,IAAI,EAAE,CAAC;IAC1D;IACA,MAAMC,KAAK,GAAGJ,GAAG,CAACK,QAAQ,CAACD,KAAK,CAAC,wBAAwB,CAAC;IAC1D,MAAME,KAAK,GAAGF,KAAK,GAAGA,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI;IACrC,IAAKE,KAAK,KAAK,IAAI,IAAMA,KAAK,KAAK,KAAM,EAAE;MACzCvB,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC;MACf,IAAAH,cAAY,EAAC,cAAc,CAAC,CACrBC,IAAI,CAAEC,KAAK,IAAK;QACnBH,GAAG,CAACa,IAAI,CAAC,SAASV,KAAK,CAACoB,KAAK,CAAC,CAACT,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC;MAC9C,CAAC,CAAC,CACDC,KAAK,CAAC,MAAM;QACXf,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC;QACfJ,GAAG,CAACa,IAAI,CAAC,0BAA0B,CAAC;MACtC,CAAC,CAAC;IACN,CAAC,MAAM;MACLb,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC;MACfJ,GAAG,CAACa,IAAI,CAAC,mCAAmC,CAAC;IAC/C;EACF;AACF;AAAC,IAAAW,QAAA,GAAAC,OAAA,CAAA7B,OAAA,GAEcC,kBAAkB","ignoreList":[]}},"mtime":1721793046013},"{\"assumptions\":{},\"sourceRoot\":\"/home/abdiwoli/projects/alx-backend-javascript/0x05-Node_JS_basic/full_server/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abdiwoli/projects/alx-backend-javascript/0x05-Node_JS_basic\",\"filename\":\"/home/abdiwoli/projects/alx-backend-javascript/0x05-Node_JS_basic/full_server/utils.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/abdiwoli/projects/alx-backend-javascript/0x05-Node_JS_basic\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nconst {\n  parse\n} = require('csv-parse');\nconst fs = require('fs');\nconst {\n  promisify\n} = require('util');\nconst readFileAsync = promisify(fs.readFile);\nconst parseAsync = data => new Promise((resolve, reject) => {\n  parse(data, {\n    columns: true,\n    trim: true\n  }, (err, records) => {\n    if (err) {\n      return reject(err);\n    }\n    return resolve(records);\n  });\n});\nconst readDatabase = async path => {\n  if (!fs.existsSync(path)) {\n    return Promise.reject(new Error('File is not accessible'));\n  }\n  try {\n    const data = await readFileAsync(path, 'utf8');\n    const records = await parseAsync(data);\n    const fields = records.reduce((obj, val) => {\n      const key = val.field;\n      if (!obj[key]) {\n        // eslint-disable-next-line no-param-reassign\n        obj[key] = [];\n      }\n      obj[key].push(val);\n      return obj;\n    }, {});\n    const lines = {};\n    for (const [key, records] of Object.entries(fields)) {\n      lines[key] = records.map(el => el.firstname);\n    }\n    return lines;\n  } catch (error) {\n    return Promise.reject(error);\n  }\n};\nvar _default = exports.default = readDatabase;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwYXJzZSIsInJlcXVpcmUiLCJmcyIsInByb21pc2lmeSIsInJlYWRGaWxlQXN5bmMiLCJyZWFkRmlsZSIsInBhcnNlQXN5bmMiLCJkYXRhIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJjb2x1bW5zIiwidHJpbSIsImVyciIsInJlY29yZHMiLCJyZWFkRGF0YWJhc2UiLCJwYXRoIiwiZXhpc3RzU3luYyIsIkVycm9yIiwiZmllbGRzIiwicmVkdWNlIiwib2JqIiwidmFsIiwia2V5IiwiZmllbGQiLCJwdXNoIiwibGluZXMiLCJPYmplY3QiLCJlbnRyaWVzIiwibWFwIiwiZWwiLCJmaXJzdG5hbWUiLCJlcnJvciIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsImRlZmF1bHQiXSwic291cmNlUm9vdCI6Ii9ob21lL2FiZGl3b2xpL3Byb2plY3RzL2FseC1iYWNrZW5kLWphdmFzY3JpcHQvMHgwNS1Ob2RlX0pTX2Jhc2ljL2Z1bGxfc2VydmVyLyIsInNvdXJjZXMiOlsidXRpbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBwYXJzZSB9ID0gcmVxdWlyZSgnY3N2LXBhcnNlJyk7XG5jb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG5jb25zdCB7IHByb21pc2lmeSB9ID0gcmVxdWlyZSgndXRpbCcpO1xuXG5jb25zdCByZWFkRmlsZUFzeW5jID0gcHJvbWlzaWZ5KGZzLnJlYWRGaWxlKTtcblxuY29uc3QgcGFyc2VBc3luYyA9IChkYXRhKSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gIHBhcnNlKGRhdGEsIHsgY29sdW1uczogdHJ1ZSwgdHJpbTogdHJ1ZSB9LCAoZXJyLCByZWNvcmRzKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIHJlamVjdChlcnIpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzb2x2ZShyZWNvcmRzKTtcbiAgfSk7XG59KTtcblxuY29uc3QgcmVhZERhdGFiYXNlID0gYXN5bmMgKHBhdGgpID0+IHtcbiAgaWYgKCFmcy5leGlzdHNTeW5jKHBhdGgpKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignRmlsZSBpcyBub3QgYWNjZXNzaWJsZScpKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlYWRGaWxlQXN5bmMocGF0aCwgJ3V0ZjgnKTtcbiAgICBjb25zdCByZWNvcmRzID0gYXdhaXQgcGFyc2VBc3luYyhkYXRhKTtcbiAgICBjb25zdCBmaWVsZHMgPSByZWNvcmRzLnJlZHVjZSgob2JqLCB2YWwpID0+IHtcbiAgICAgIGNvbnN0IGtleSA9IHZhbC5maWVsZDtcbiAgICAgIGlmICghb2JqW2tleV0pIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgIG9ialtrZXldID0gW107XG4gICAgICB9XG4gICAgICBvYmpba2V5XS5wdXNoKHZhbCk7XG4gICAgICByZXR1cm4gb2JqO1xuICAgIH0sIHt9KTtcbiAgICBjb25zdCBsaW5lcyA9IHt9O1xuICAgIGZvciAoY29uc3QgW2tleSwgcmVjb3Jkc10gb2YgT2JqZWN0LmVudHJpZXMoZmllbGRzKSkge1xuICAgICAgbGluZXNba2V5XSA9IHJlY29yZHMubWFwKChlbCkgPT4gZWwuZmlyc3RuYW1lKTtcbiAgICB9XG4gICAgcmV0dXJuIGxpbmVzO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IHJlYWREYXRhYmFzZTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsTUFBTTtFQUFFQTtBQUFNLENBQUMsR0FBR0MsT0FBTyxDQUFDLFdBQVcsQ0FBQztBQUN0QyxNQUFNQyxFQUFFLEdBQUdELE9BQU8sQ0FBQyxJQUFJLENBQUM7QUFDeEIsTUFBTTtFQUFFRTtBQUFVLENBQUMsR0FBR0YsT0FBTyxDQUFDLE1BQU0sQ0FBQztBQUVyQyxNQUFNRyxhQUFhLEdBQUdELFNBQVMsQ0FBQ0QsRUFBRSxDQUFDRyxRQUFRLENBQUM7QUFFNUMsTUFBTUMsVUFBVSxHQUFJQyxJQUFJLElBQUssSUFBSUMsT0FBTyxDQUFDLENBQUNDLE9BQU8sRUFBRUMsTUFBTSxLQUFLO0VBQzVEVixLQUFLLENBQUNPLElBQUksRUFBRTtJQUFFSSxPQUFPLEVBQUUsSUFBSTtJQUFFQyxJQUFJLEVBQUU7RUFBSyxDQUFDLEVBQUUsQ0FBQ0MsR0FBRyxFQUFFQyxPQUFPLEtBQUs7SUFDM0QsSUFBSUQsR0FBRyxFQUFFO01BQ1AsT0FBT0gsTUFBTSxDQUFDRyxHQUFHLENBQUM7SUFDcEI7SUFDQSxPQUFPSixPQUFPLENBQUNLLE9BQU8sQ0FBQztFQUN6QixDQUFDLENBQUM7QUFDSixDQUFDLENBQUM7QUFFRixNQUFNQyxZQUFZLEdBQUcsTUFBT0MsSUFBSSxJQUFLO0VBQ25DLElBQUksQ0FBQ2QsRUFBRSxDQUFDZSxVQUFVLENBQUNELElBQUksQ0FBQyxFQUFFO0lBQ3hCLE9BQU9SLE9BQU8sQ0FBQ0UsTUFBTSxDQUFDLElBQUlRLEtBQUssQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDO0VBQzVEO0VBRUEsSUFBSTtJQUNGLE1BQU1YLElBQUksR0FBRyxNQUFNSCxhQUFhLENBQUNZLElBQUksRUFBRSxNQUFNLENBQUM7SUFDOUMsTUFBTUYsT0FBTyxHQUFHLE1BQU1SLFVBQVUsQ0FBQ0MsSUFBSSxDQUFDO0lBQ3RDLE1BQU1ZLE1BQU0sR0FBR0wsT0FBTyxDQUFDTSxNQUFNLENBQUMsQ0FBQ0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7TUFDMUMsTUFBTUMsR0FBRyxHQUFHRCxHQUFHLENBQUNFLEtBQUs7TUFDckIsSUFBSSxDQUFDSCxHQUFHLENBQUNFLEdBQUcsQ0FBQyxFQUFFO1FBQ2I7UUFDQUYsR0FBRyxDQUFDRSxHQUFHLENBQUMsR0FBRyxFQUFFO01BQ2Y7TUFDQUYsR0FBRyxDQUFDRSxHQUFHLENBQUMsQ0FBQ0UsSUFBSSxDQUFDSCxHQUFHLENBQUM7TUFDbEIsT0FBT0QsR0FBRztJQUNaLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNOLE1BQU1LLEtBQUssR0FBRyxDQUFDLENBQUM7SUFDaEIsS0FBSyxNQUFNLENBQUNILEdBQUcsRUFBRVQsT0FBTyxDQUFDLElBQUlhLE1BQU0sQ0FBQ0MsT0FBTyxDQUFDVCxNQUFNLENBQUMsRUFBRTtNQUNuRE8sS0FBSyxDQUFDSCxHQUFHLENBQUMsR0FBR1QsT0FBTyxDQUFDZSxHQUFHLENBQUVDLEVBQUUsSUFBS0EsRUFBRSxDQUFDQyxTQUFTLENBQUM7SUFDaEQ7SUFDQSxPQUFPTCxLQUFLO0VBQ2QsQ0FBQyxDQUFDLE9BQU9NLEtBQUssRUFBRTtJQUNkLE9BQU94QixPQUFPLENBQUNFLE1BQU0sQ0FBQ3NCLEtBQUssQ0FBQztFQUM5QjtBQUNGLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUMsT0FBQSxHQUVhcEIsWUFBWSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["parse","require","fs","promisify","readFileAsync","readFile","parseAsync","data","Promise","resolve","reject","columns","trim","err","records","readDatabase","path","existsSync","Error","fields","reduce","obj","val","key","field","push","lines","Object","entries","map","el","firstname","error","_default","exports","default"],"sourceRoot":"/home/abdiwoli/projects/alx-backend-javascript/0x05-Node_JS_basic/full_server/","sources":["utils.js"],"sourcesContent":["const { parse } = require('csv-parse');\nconst fs = require('fs');\nconst { promisify } = require('util');\n\nconst readFileAsync = promisify(fs.readFile);\n\nconst parseAsync = (data) => new Promise((resolve, reject) => {\n  parse(data, { columns: true, trim: true }, (err, records) => {\n    if (err) {\n      return reject(err);\n    }\n    return resolve(records);\n  });\n});\n\nconst readDatabase = async (path) => {\n  if (!fs.existsSync(path)) {\n    return Promise.reject(new Error('File is not accessible'));\n  }\n\n  try {\n    const data = await readFileAsync(path, 'utf8');\n    const records = await parseAsync(data);\n    const fields = records.reduce((obj, val) => {\n      const key = val.field;\n      if (!obj[key]) {\n        // eslint-disable-next-line no-param-reassign\n        obj[key] = [];\n      }\n      obj[key].push(val);\n      return obj;\n    }, {});\n    const lines = {};\n    for (const [key, records] of Object.entries(fields)) {\n      lines[key] = records.map((el) => el.firstname);\n    }\n    return lines;\n  } catch (error) {\n    return Promise.reject(error);\n  }\n};\n\nexport default readDatabase;\n"],"mappings":";;;;;;AAAA,MAAM;EAAEA;AAAM,CAAC,GAAGC,OAAO,CAAC,WAAW,CAAC;AACtC,MAAMC,EAAE,GAAGD,OAAO,CAAC,IAAI,CAAC;AACxB,MAAM;EAAEE;AAAU,CAAC,GAAGF,OAAO,CAAC,MAAM,CAAC;AAErC,MAAMG,aAAa,GAAGD,SAAS,CAACD,EAAE,CAACG,QAAQ,CAAC;AAE5C,MAAMC,UAAU,GAAIC,IAAI,IAAK,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;EAC5DV,KAAK,CAACO,IAAI,EAAE;IAAEI,OAAO,EAAE,IAAI;IAAEC,IAAI,EAAE;EAAK,CAAC,EAAE,CAACC,GAAG,EAAEC,OAAO,KAAK;IAC3D,IAAID,GAAG,EAAE;MACP,OAAOH,MAAM,CAACG,GAAG,CAAC;IACpB;IACA,OAAOJ,OAAO,CAACK,OAAO,CAAC;EACzB,CAAC,CAAC;AACJ,CAAC,CAAC;AAEF,MAAMC,YAAY,GAAG,MAAOC,IAAI,IAAK;EACnC,IAAI,CAACd,EAAE,CAACe,UAAU,CAACD,IAAI,CAAC,EAAE;IACxB,OAAOR,OAAO,CAACE,MAAM,CAAC,IAAIQ,KAAK,CAAC,wBAAwB,CAAC,CAAC;EAC5D;EAEA,IAAI;IACF,MAAMX,IAAI,GAAG,MAAMH,aAAa,CAACY,IAAI,EAAE,MAAM,CAAC;IAC9C,MAAMF,OAAO,GAAG,MAAMR,UAAU,CAACC,IAAI,CAAC;IACtC,MAAMY,MAAM,GAAGL,OAAO,CAACM,MAAM,CAAC,CAACC,GAAG,EAAEC,GAAG,KAAK;MAC1C,MAAMC,GAAG,GAAGD,GAAG,CAACE,KAAK;MACrB,IAAI,CAACH,GAAG,CAACE,GAAG,CAAC,EAAE;QACb;QACAF,GAAG,CAACE,GAAG,CAAC,GAAG,EAAE;MACf;MACAF,GAAG,CAACE,GAAG,CAAC,CAACE,IAAI,CAACH,GAAG,CAAC;MAClB,OAAOD,GAAG;IACZ,CAAC,EAAE,CAAC,CAAC,CAAC;IACN,MAAMK,KAAK,GAAG,CAAC,CAAC;IAChB,KAAK,MAAM,CAACH,GAAG,EAAET,OAAO,CAAC,IAAIa,MAAM,CAACC,OAAO,CAACT,MAAM,CAAC,EAAE;MACnDO,KAAK,CAACH,GAAG,CAAC,GAAGT,OAAO,CAACe,GAAG,CAAEC,EAAE,IAAKA,EAAE,CAACC,SAAS,CAAC;IAChD;IACA,OAAOL,KAAK;EACd,CAAC,CAAC,OAAOM,KAAK,EAAE;IACd,OAAOxB,OAAO,CAACE,MAAM,CAACsB,KAAK,CAAC;EAC9B;AACF,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAEapB,YAAY","ignoreList":[]}},"mtime":1721740746830},"{\"assumptions\":{},\"sourceRoot\":\"/home/abdiwoli/projects/alx-backend-javascript/0x05-Node_JS_basic/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abdiwoli/projects/alx-backend-javascript/0x05-Node_JS_basic\",\"filename\":\"/home/abdiwoli/projects/alx-backend-javascript/0x05-Node_JS_basic/test-t.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/abdiwoli/projects/alx-backend-javascript/0x05-Node_JS_basic\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.9:development":{"value":{"code":"\"use strict\";\n\nconst chai = require('chai');\nconst chaiHttp = require('chai-http');\nprocess.argv[2] = './blabla.csv';\nconst app = require('./5-http');\nchai.use(chaiHttp);\nchai.should();\ndescribe('More complex HTTP server using node', () => {\n  describe('When the database is not available', () => {\n    before(() => {\n      process.argv[2] = './blabla.csv';\n    });\n    it('Returns the right error message', done => {\n      chai.request(app).get('/students').end((error, response) => {\n        chai.expect(response.text).to.equal(`This is the list of our students\nCannot load the database`);\n        done();\n      });\n    });\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjaGFpIiwicmVxdWlyZSIsImNoYWlIdHRwIiwicHJvY2VzcyIsImFyZ3YiLCJhcHAiLCJ1c2UiLCJzaG91bGQiLCJkZXNjcmliZSIsImJlZm9yZSIsIml0IiwiZG9uZSIsInJlcXVlc3QiLCJnZXQiLCJlbmQiLCJlcnJvciIsInJlc3BvbnNlIiwiZXhwZWN0IiwidGV4dCIsInRvIiwiZXF1YWwiXSwic291cmNlUm9vdCI6Ii9ob21lL2FiZGl3b2xpL3Byb2plY3RzL2FseC1iYWNrZW5kLWphdmFzY3JpcHQvMHgwNS1Ob2RlX0pTX2Jhc2ljLyIsInNvdXJjZXMiOlsidGVzdC10LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGNoYWkgPSByZXF1aXJlKCdjaGFpJyk7XG5jb25zdCBjaGFpSHR0cCA9IHJlcXVpcmUoJ2NoYWktaHR0cCcpO1xuXG5wcm9jZXNzLmFyZ3ZbMl0gPSAnLi9ibGFibGEuY3N2JztcbmNvbnN0IGFwcCA9IHJlcXVpcmUoJy4vNS1odHRwJyk7XG5cbmNoYWkudXNlKGNoYWlIdHRwKTtcbmNoYWkuc2hvdWxkKCk7XG5cbmRlc2NyaWJlKCdNb3JlIGNvbXBsZXggSFRUUCBzZXJ2ZXIgdXNpbmcgbm9kZScsICgpID0+IHtcbiAgZGVzY3JpYmUoJ1doZW4gdGhlIGRhdGFiYXNlIGlzIG5vdCBhdmFpbGFibGUnLCAoKSA9PiB7XG4gICAgYmVmb3JlKCgpID0+IHtcbiAgICAgIHByb2Nlc3MuYXJndlsyXSA9ICcuL2JsYWJsYS5jc3YnO1xuICAgIH0pXG4gICAgaXQoJ1JldHVybnMgdGhlIHJpZ2h0IGVycm9yIG1lc3NhZ2UnLCAoZG9uZSkgPT4ge1xuICAgICAgY2hhaS5yZXF1ZXN0KGFwcClcbiAgICAgICAgLmdldCgnL3N0dWRlbnRzJylcbiAgICAgICAgLmVuZCgoZXJyb3IsIHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgY2hhaS5leHBlY3QocmVzcG9uc2UudGV4dCkudG8uZXF1YWwoYFRoaXMgaXMgdGhlIGxpc3Qgb2Ygb3VyIHN0dWRlbnRzXG5DYW5ub3QgbG9hZCB0aGUgZGF0YWJhc2VgKTtcbiAgICAgICAgICBkb25lKCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLElBQUksR0FBR0MsT0FBTyxDQUFDLE1BQU0sQ0FBQztBQUM1QixNQUFNQyxRQUFRLEdBQUdELE9BQU8sQ0FBQyxXQUFXLENBQUM7QUFFckNFLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLGNBQWM7QUFDaEMsTUFBTUMsR0FBRyxHQUFHSixPQUFPLENBQUMsVUFBVSxDQUFDO0FBRS9CRCxJQUFJLENBQUNNLEdBQUcsQ0FBQ0osUUFBUSxDQUFDO0FBQ2xCRixJQUFJLENBQUNPLE1BQU0sQ0FBQyxDQUFDO0FBRWJDLFFBQVEsQ0FBQyxxQ0FBcUMsRUFBRSxNQUFNO0VBQ3BEQSxRQUFRLENBQUMsb0NBQW9DLEVBQUUsTUFBTTtJQUNuREMsTUFBTSxDQUFDLE1BQU07TUFDWE4sT0FBTyxDQUFDQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsY0FBYztJQUNsQyxDQUFDLENBQUM7SUFDRk0sRUFBRSxDQUFDLGlDQUFpQyxFQUFHQyxJQUFJLElBQUs7TUFDOUNYLElBQUksQ0FBQ1ksT0FBTyxDQUFDUCxHQUFHLENBQUMsQ0FDZFEsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUNoQkMsR0FBRyxDQUFDLENBQUNDLEtBQUssRUFBRUMsUUFBUSxLQUFLO1FBQ3hCaEIsSUFBSSxDQUFDaUIsTUFBTSxDQUFDRCxRQUFRLENBQUNFLElBQUksQ0FBQyxDQUFDQyxFQUFFLENBQUNDLEtBQUssQ0FBQztBQUM5Qyx5QkFBeUIsQ0FBQztRQUNoQlQsSUFBSSxDQUFDLENBQUM7TUFDUixDQUFDLENBQUM7SUFDTixDQUFDLENBQUM7RUFDSixDQUFDLENBQUM7QUFDSixDQUFDLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["chai","require","chaiHttp","process","argv","app","use","should","describe","before","it","done","request","get","end","error","response","expect","text","to","equal"],"sourceRoot":"/home/abdiwoli/projects/alx-backend-javascript/0x05-Node_JS_basic/","sources":["test-t.js"],"sourcesContent":["const chai = require('chai');\nconst chaiHttp = require('chai-http');\n\nprocess.argv[2] = './blabla.csv';\nconst app = require('./5-http');\n\nchai.use(chaiHttp);\nchai.should();\n\ndescribe('More complex HTTP server using node', () => {\n  describe('When the database is not available', () => {\n    before(() => {\n      process.argv[2] = './blabla.csv';\n    })\n    it('Returns the right error message', (done) => {\n      chai.request(app)\n        .get('/students')\n        .end((error, response) => {\n          chai.expect(response.text).to.equal(`This is the list of our students\nCannot load the database`);\n          done();\n        });\n    });\n  });\n});\n"],"mappings":";;AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,MAAM,CAAC;AAC5B,MAAMC,QAAQ,GAAGD,OAAO,CAAC,WAAW,CAAC;AAErCE,OAAO,CAACC,IAAI,CAAC,CAAC,CAAC,GAAG,cAAc;AAChC,MAAMC,GAAG,GAAGJ,OAAO,CAAC,UAAU,CAAC;AAE/BD,IAAI,CAACM,GAAG,CAACJ,QAAQ,CAAC;AAClBF,IAAI,CAACO,MAAM,CAAC,CAAC;AAEbC,QAAQ,CAAC,qCAAqC,EAAE,MAAM;EACpDA,QAAQ,CAAC,oCAAoC,EAAE,MAAM;IACnDC,MAAM,CAAC,MAAM;MACXN,OAAO,CAACC,IAAI,CAAC,CAAC,CAAC,GAAG,cAAc;IAClC,CAAC,CAAC;IACFM,EAAE,CAAC,iCAAiC,EAAGC,IAAI,IAAK;MAC9CX,IAAI,CAACY,OAAO,CAACP,GAAG,CAAC,CACdQ,GAAG,CAAC,WAAW,CAAC,CAChBC,GAAG,CAAC,CAACC,KAAK,EAAEC,QAAQ,KAAK;QACxBhB,IAAI,CAACiB,MAAM,CAACD,QAAQ,CAACE,IAAI,CAAC,CAACC,EAAE,CAACC,KAAK,CAAC;AAC9C,yBAAyB,CAAC;QAChBT,IAAI,CAAC,CAAC;MACR,CAAC,CAAC;IACN,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ,CAAC,CAAC","ignoreList":[]}},"mtime":1721908485524}}